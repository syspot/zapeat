<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/resources/templates/templateCRUD.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	
	
	<ui:param name="mbean" value="${bannerFaces}" />
	<ui:param name="mbeanModel" value="${bannerFaces.crudModel}" />
	<ui:param name="mbeanPesquisaModel" value="${bannerFaces.crudPesquisaModel}" />
  	
  	<ui:define name="cadastro">
  	
  		<h:panelGrid columns="2" columnClasses="coluna50, coluna50" style="width: 80%">
  		
  			<h:panelGrid columns="1" style="width: 90%">
  			
			  	<p:outputLabel for="fornecedor" value="Fornecedor" />
			  	<p:selectOneMenu id="fornecedor" required="true" requiredMessage="Fornecedor: Campo obrigatório" value="#{mbeanModel.fornecedor.id}" style="width:100%">
					<f:selectItem itemLabel="Não Selecionado" itemValue="" />
					<f:selectItems value="#{mbean.fornecedores}" />
				</p:selectOneMenu>
				
			  	<p:outputLabel for="tipoBanner" value="Tipo de Banner" />
			  	<p:selectOneMenu id="tipoBanner" required="true" requiredMessage="Tipo de Banner: Campo obrigatório" value="#{mbeanModel.tipoBanner.id}" style="width:100%">
					<f:selectItem itemLabel="Não Selecionado" itemValue="" />
					<f:selectItems value="#{mbean.tiposBanners}" />
				</p:selectOneMenu>
				
				<p:outputLabel for="imagem" value="Imagem" />
			  	<p:fileUpload id="imagem" label="Selecionar Imagem" auto="true" fileUploadListener="#{mbean.enviarImagem}" allowTypes="/(\.|\/)(gif|jpe?g|png|bitmap)$/" update="opVisualizacaoImagem" />
			
			</h:panelGrid>
			
			<h:panelGrid style="width:80%">
			
				<h:panelGrid columns="2" style="width: 80%">
			
					<p:outputLabel for="dataInicial" value="Data Inicial" />
					<p:outputLabel for="dataFinal" value="Data Final" />
				  	
					<p:calendar id="dataInicial" pattern="dd/MM/yyyy HH:mm" required="true" requiredMessage="Data Inicial: Campo obrigatório" value="#{mbeanModel.inicio}" style="width:90%" />
					<p:calendar id="dataFinal" pattern="dd/MM/yyyy HH:mm" required="true" requiredMessage="Data Final: Campo obrigatório" value="#{mbeanModel.fim}" style="width:90%" />
				  	
		  		</h:panelGrid>
		  		
		  		<h:panelGrid>
		  		
		  			<p:outputLabel for="taxaPrioridade" value="Taxa de Prioridade" />
				  	<p:inputText id="taxaPrioridade" value="#{mbeanModel.taxaPrioridade}" required="true" requiredMessage="Taxa de Prioridade: Campo obrigatório" maxlength="5" styleClass="coluna90"/>
				  	
				  	<p:outputLabel for="cbFlagAtivo" value="Ativo" />
					<p:selectBooleanCheckbox id="cbFlagAtivo" value="#{mbeanModel.flagAtivo}" />
		  		
		  		</h:panelGrid>
			
			</h:panelGrid>
			
		</h:panelGrid>
		
		<h:panelGrid columns="1" style="width: 100%; margin-top: 30px">
		
			<p:outputPanel id="opVisualizacaoImagem">
					
				<style type="text/css">
					.imagemFoto img{height: 159px; align: left;}
				</style>
				
				<div class="imagemFoto" align="left">
					<p:graphicImage value="#{mbeanModel.imagem}" cache="false" />
				</div>
				
			</p:outputPanel>
		  	
  		</h:panelGrid>
	  		
  	</ui:define>
  	
  	<ui:define name="pesquisaCampos">
  		
  		<h:panelGrid columns="2" columnClasses="coluna50_2, coluna50" style="width:80%">
			
			<h:panelGrid columns="1" style="width:90%">
			
				<p:outputLabel for="fornecedorPesquisa" value="Fornecedor" />
			  	<p:selectOneMenu id="fornecedorPesquisa" value="#{mbeanPesquisaModel.fornecedor.id}" style="width:100%">
					<f:selectItem itemLabel="Não Selecionado" itemValue="" />
					<f:selectItems value="#{mbean.fornecedores}" />
				</p:selectOneMenu>
				
			  	<p:outputLabel for="tipoBannerPesquisa" value="Tipo de Banner" />
			  	<p:selectOneMenu id="tipoBannerPesquisa" value="#{mbeanPesquisaModel.tipoBanner.id}" style="width:100%">
					<f:selectItem itemLabel="Não Selecionado" itemValue="" />
					<f:selectItems value="#{mbean.tiposBanners}" />
				</p:selectOneMenu>
			
			</h:panelGrid>
			
			<h:panelGrid style="width:80%">
			
				<h:panelGrid columns="2" style="width:80%">
			
					<p:outputLabel for="dataInicialPesquisa" value="Data Inicial" />
					<p:outputLabel for="dataFinalPesquisa" value="Data Final" />
				  	
					<p:calendar id="dataInicialPesquisa" pattern="dd/MM/yyyy" value="#{mbeanPesquisaModel.inicio}" style="width:90%" />
					<p:calendar id="dataFinalPesquisa" pattern="dd/MM/yyyy" value="#{mbeanPesquisaModel.fim}" style="width:90%" />
				  	
					<p:outputLabel for="taxaPrioridadePesquisa" value="Taxa de Prioridade" />
				  	<p:outputLabel for="cbFlagAtivoPesquisa" value="Ativo" />
				  	
				  	<p:inputText id="taxaPrioridadePesquisa" value="#{mbeanPesquisaModel.taxaPrioridade}" maxlength="5" styleClass="coluna90"/>
					<p:selectBooleanCheckbox id="cbFlagAtivoPesquisa" value="#{mbeanPesquisaModel.flagAtivo}" />
					
			  	</h:panelGrid>
			  	
			</h:panelGrid>
			
		</h:panelGrid>	
		
  	</ui:define>
  	
  	<ui:define name="colunasTabela">
  	
  		<p:column headerText="Fornecedor">
  			<h:outputText value="#{linha.fornecedor.descricao}" />
  		</p:column>
  	
  		<p:column headerText="Data Início" style="text-align: center">
  			<h:outputText value="#{linha.inicio}" >
  				<f:convertDateTime pattern="dd/MM/yyyy HH:mm" locale="pt_BR" timeZone="America/Sao_Paulo" />
  			</h:outputText>
  		</p:column>
  	
  		<p:column headerText="Data Fim" style="text-align: center">
  			<h:outputText value="#{linha.fim}" >
  				<f:convertDateTime pattern="dd/MM/yyyy HH:mm" locale="pt_BR" timeZone="America/Sao_Paulo" />
  			</h:outputText>
  		</p:column>
  		
  	</ui:define>
  	
</ui:composition>