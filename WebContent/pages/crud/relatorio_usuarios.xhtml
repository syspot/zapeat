<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">

    <ui:param name="mbean" value="${relatorioUsuarioFaces}" />

    <p:tabView id="tabview">

        <p:tab id="tabCadastro" title="Relatório de Usuários">

            <h:form id="formCadastro" prependId="false">
            
                <p:fieldset>
                
                    <h:panelGrid style="width: 100%">
                    
                        <p:outputLabel for="status" value="Situação" />
                        <p:selectOneMenu id="status" value="#{mbean.situacao}" style="width: 20%">
                            <f:selectItem itemLabel="Todos" itemValue="1" />
                            <f:selectItem itemLabel="Ativos" itemValue="2" />
                            <f:selectItem itemLabel="Pendentes" itemValue="3" />
                        </p:selectOneMenu>
                    
                        <p:commandButton value="Gerar relatório" icon="ui-icon-print" action="#{mbean.gerarRelatorio}" update="@form" />
                    
                    </h:panelGrid>
                    
                    <p:dataTable id="gridUsuarios" value="#{mbean.grid}" var="linha" paginator="true" rows="30" paginatorPosition="bottom" emptyMessage="Nenhum usuário encontrado" style="width: 100%" rendered="#{not empty mbean.grid}">
                    
                        <p:column headerText="Nome">
                            <h:outputText value="#{linha.nome}" />
                        </p:column>
                    
                        <p:column headerText="Email">
                            <h:outputText value="#{linha.email}" />
                        </p:column>
                    
                        <p:column headerText="Situação">
                            <h:outputText value="#{linha.situacao}" />
                        </p:column>
                    
                    </p:dataTable>
                    
                </p:fieldset>
                
            </h:form>
            
        </p:tab>
        
    </p:tabView>

</ui:composition>