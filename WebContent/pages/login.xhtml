<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Zapeat ADM</title>
	<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/geral.css" />
</h:head>

<h:body onload="javascript:document.getElementById('login').focus();">

	<p:layout fullPage="true">
		
		<p:layoutUnit position="north" size="120">
			
			<div align="center">
				<img src="../resources/images/marca.png" alt="" title="Zapeat - ADM"></img>
			</div>
			
		</p:layoutUnit>
		
		<p:layoutUnit position="center" size="50">
			<h:form id="formLogin" prependId="false">
				<p:growl id="msgLogin" globalOnly="false" showDetail="true" showSummary="false" />
				<br />
				<br />
				<div align="center">

					<p:panel id="panelLogin" header="Administração - Zapeat" style="width: 270px; text-align: left">


						<h:panelGrid style="width: 100%;" columns="2" columnClasses="coluna40, coluna60">
						
							<p:outputLabel for="login" value="Login:" />
							<p:inputText id="login" value="#{autenticacaoFaces.usuario.login}" style="width: 100%;" required="true" requiredMessage="Usuário: Obrigatório" />
							<p:outputLabel for="senha" value="Senha:" />
							<p:password id="senha" value="#{autenticacaoFaces.usuario.senha}" feedback="false" style="width: 100%;" required="true" requiredMessage="Senha: Obrigatório" />
							<p:outputLabel for="novaSenha" value="Nova Senha:" rendered="#{autenticacaoFaces.opcao == 2}" />
							<p:password id="novaSenha" value="#{autenticacaoFaces.novaSenha}" feedback="false" match="confirmaNovaSenha" style="width: 100%;" required="true" requiredMessage="Nova Senha: Obrigatório" rendered="#{autenticacaoFaces.opcao == 2}"/>
							<p:outputLabel for="confirmaNovaSenha" value="Repetir Senha:" rendered="#{autenticacaoFaces.opcao == 2}" />
							<p:password id="confirmaNovaSenha" value="#{autenticacaoFaces.confirmaNovaSenha}" feedback="false" style="width: 100%;" required="true" requiredMessage="Confirma Nova Senha: Obrigatório" rendered="#{autenticacaoFaces.opcao == 2}"/>
							
							<p:outputLabel for="opcao" value="Opção" />
							<p:selectOneMenu id="opcao" value="#{autenticacaoFaces.opcao}" style="width: 100%;">
								<f:selectItem itemLabel="Autenticar" itemValue="1" />
								<f:selectItem itemLabel="Alterar Senha" itemValue="2" />
								<p:ajax event="change" update="panelLogin" />
							</p:selectOneMenu>

						</h:panelGrid>
						<br/>


						<div align="right" style="width: 100%">
							<p:commandButton ajax="false" title="Acessar Zapeat ADM" id="btnAcessar" value="Autenticar" style="height: 35px;width: 135px" icon="cadeado" action="#{autenticacaoFaces.login}" rendered="#{autenticacaoFaces.opcao == 1}"/>
							<p:commandButton ajax="false" title="Trocar Senha do Usuário Zapeat ADM" id="btnTrocarSenha" value="Alterar Senha" style="height: 35px;width: 135px" icon="cadeado" action="#{autenticacaoFaces.trocarSenha}" rendered="#{autenticacaoFaces.opcao == 2}"/>
						</div>


					</p:panel>

				</div>
			</h:form>
		</p:layoutUnit>

		<p:layoutUnit position="south" size="35">
			<h:panelGrid columns="1" width="100%" style="height: 100%" columnClasses="colunaInformativo100">
				<h:column>
					<h:outputText value="Zapeat" />
				</h:column>
			</h:panelGrid>
		</p:layoutUnit>
	</p:layout>

</h:body>


</html>


